#!/usr/bin/env bash

REAL_SCRIPT_DIR=$(dirname "$(realpath "$0")")
CLI_PACKAGE_DIR="${REAL_SCRIPT_DIR%/}/../../packages/python/cli"

COMMAND_NAME=${0##*/}
UVX_BASE_CMD=(uvx --from "${CLI_PACKAGE_DIR}" --with-editable "${CLI_PACKAGE_DIR}" --quiet -- py_cli)

if [[ "$COMMAND_NAME" == "py_cli" ]]; then
    exec "${UVX_BASE_CMD[@]}" "$@"
else
    exec "${UVX_BASE_CMD[@]}" "${COMMAND_NAME}" "$@"
fi
